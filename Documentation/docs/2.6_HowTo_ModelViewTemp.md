## Principles Used

- **Template Tags** generate information to be displayed on the page. 
- **{% block [block_name] %}{endblock [block_name] %}** indicates a code block to be filled by a child template.
- **For Loops** Every 'for loop' in template code requires an **endfor** to end the loop.
- **To print a variable in a template** wrap the variable name in double braces.
- **Template Filters** are vertical lines used to call a function that modifies the value in a template variable during rendering.
- **{% empty %} Template Tags** tell the interpreter what to do if the list is empty. 
- **Django's Object-Relational Mapper (ORM)** lets you interact with your database using Python objects instead of raw SQL queries. You define models (Python classes) that represent database tables. Django’s ORM automatically translates your Python code into SQL commands behind the scenes.

### URLs.py Example

> 1. Import Path function. 
> 2. Import views from same directory (.)
> 3. Define application name
> 4. Path function requires 3 parameters: URL that when matched calls the views thats defined and assigns it an arbitrary name.

        """Defines URL patterns for learning_logs."""

    1    from django.urls import path

    2    from . import views

    3    app_name = 'learning_logs'

         urlpatterns = [
             # Homepage
             path('', views.index, name='index'),
            
             # Topic Template
             path('topics/', views.topics, name='topics'),

             # Detail page for a single topic
    4        path('topics/<int:topic_id>/', views.topic, name='topic'),
            ]

### Views.py (Application) Example

> 1. Import render function from django.shortcuts. 
> 2. Import the Topic class object defined in models.py.
> 3. Define the view function that requires the request parameter and an additional 'topic_id' parameter to be passed back to the View to be used in the path. Typically int:topic_id.
> 4. Define the 'topic' variable that becomes a list of objects created using the Topic class. Uses the Get function or Django’s ORM to retrieve a single Topic object from the database whose primary key (id) matches the given topic_id. 

> 5. Defines the entries variables by creating a list of entries using entry_set. **entry_set** is the reverse relationship to Entry objects (assuming Entry has a ForeignKey to Topic) which gives all Entry objects linked to the current topic. **.order_by('-date_added')** sorts them by newest first (descending order).
> 6. A context dictionary is created to pass data into the template with **topic:** the current topic object and **entries:** all the related entries for that topic.
> 7. Renders the template learning_logs/topic.html with the given context. This produces an HTML page that displays the topic and its related entries.

    1    from django.shortcuts import render

    2    from .models import Topic

        def index(request):
            """The return homepage for Learning Log"""
            return render(request, 'learning_logs/index.html')

        def topics(request):
            """Show all topics"""
            topics = Topic.objects.order_by('date_added')
            context = {'topics': topics}
            return render(request, 'learning_logs/topics.html', context)

    3    def topic(request, topic_id):
            """Show a single topic and all its entries"""
    4        topic = Topic.objects.get(id = topic_id)
    5        entries = topic.entry_set.order_by('-date_added')
    6        context = {'topic': topic, 'entries' : entries}
    7        return render(request, 'learning_logs/topic.html', context)
### Models.py Example

            from django.db import models

            # Create your models here.

            class Topic(models.Model):
                """A topic the user is learning about."""
                text = models.CharField(max_length=200)
                date_added = models.DateTimeField(auto_now_add=True)

                def __str__(self):
                    """Returns a string representation of the model."""
                    return self.text
                
            class Entry(models.Model):
                """Something specific learned about a topic."""
                topic = models.ForeignKey(Topic, on_delete=models.CASCADE)
                text = models.TextField()
                date_added = models.DateTimeField(auto_now_add=True)

                class Meta:
                    verbose_name_plural='entries'

                def __str__(self):
                    if len(self.text) <= 50:
                        return self.text
                    else:
                        return f"{self.text[:50]}..."

### Index Example

        {% extends 'learning_logs/base.html' %}

        {% block content %}

        <p> Learning Log helps you keep track of your learning, for any topic you're interested in. </p>

        {% endblock content %}

### Topics Example 

        {% extends 'learning_logs/base.html' %}

        {% block content %}

        <p>Topics</p>

        <ul>
            {% for topic in topics %}
                <li><a href="{% url 'learning_logs:topic' topic.id %}">{{ topic.text }}</a></li>
            {% empty %}
                <li>No topics have been added yet.</li>
            {% endfor %}    
        </ul>

        {% endblock content %}

### Topic Example

        {% extends 'learning_logs/base.html' %}

        {% block content %}

        <p>Topic: {{ topic.text }}</p>

        <p>
            Entries:
        </p>
        <ul>
            {% for entry in entries %}
            <li>
                <p>{{ entry.date_added|date:'M d, Y H:i' }}</p>
                <p>{{ entry.text | linebreaks }}</p>
            </li>
            {% empty %}
            <li>There are no entries for this topic yet. </li>
            {% endfor %}
        </ul>

        {% endblock content %}